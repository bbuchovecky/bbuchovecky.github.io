<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ben Buchovecky</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap"
    rel="stylesheet">
  <link href="/assets/style.css" rel="stylesheet">
  <meta name="description" content="Personal academic website for Ben Buchovecky: bio, CV, research.">
  <meta name="color-scheme" content="light dark">

</head>

<body>
  <nav class="navbar navbar-expand-md navbar-light bg-body sticky-top border-bottom">
    <div class="container">
      <a class="navbar-brand" href="/">Ben Buchovecky</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto mb-2 mb-md-0">
          <li class="nav-item"><a class="nav-link" href="/">About</a></li>
          <li class="nav-item"><a class="nav-link" href="/cv.html">CV</a></li>
          <li class="nav-item"><a class="nav-link active" href="/research.html">Research</a></li>
          <li class="nav-item ms-2">
            <button id="theme-toggle" class="btn btn-outline-secondary btn-sm" type="button" aria-label="Toggle theme">
              <span id="theme-icon">🌙</span>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container my-5">
    <h1 class="display-5">Research</h1>
    <section class="mb-5">
      <h2 class="h4">evapotranspiration-climate</h2>
      <p>
        [TODO]
      </p>
    </section>
    <section class="mb-5">
      <h2 class="h4">phytoplankton-predictability</h2>
      <p>
        [TODO]
      </p>
    </section>
  </main>
  <footer class="py-4 border-top mt-5">
    <div class="container small text-secondary text-center">
      <div>
        <a class="link-secondary me-3"
          href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#98;&#98;&#117;&#99;&#104;&#111;&#64;&#117;&#119;&#46;&#101;&#100;&#117;">
          &#98;&#98;&#117;&#99;&#104;&#111;&#64;&#117;&#119;&#46;&#101;&#100;&#117</a>
        <a class="link-secondary me-3" href="https://www.linkedin.com/in/bbuchovecky" target="_blank"
          rel="noopener">LinkedIn</a>
        <a class="link-secondary me-3" href="https://github.com/bbuchovecky" target="_blank" rel="noopener">GitHub</a>
        <a class="link-secondary" href="https://scholar.google.com/citations?user=ekSmfgkAAAAJ&hl" target="_blank"
          rel="noopener">Google Scholar</a>
      </div>
      <div class="mb-2">© <span id="year"></span> Ben Buchovecky</div>
    </div>
  </footer>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle functionality
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const html = document.documentElement;

    // Function to load SVG icon
    async function loadSVG(iconName) {
      try {
        const response = await fetch(`/assets/${iconName}.svg`);
        const svgText = await response.text();
        themeIcon.innerHTML = svgText;
      } catch (error) {
        console.error('Failed to load SVG:', error);
        // Fallback to text
        themeIcon.textContent = iconName === 'sun' ? '☀️' : iconName === 'moon' ? '🌙' : '🌗';
      }
    }

    // Get saved theme or default to system preference
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    // Determine current theme - default to 'auto' (system preference)
    let currentTheme = savedTheme || 'auto';

    // Apply theme on load
    if (currentTheme === 'auto') {
      // Follow system preference
      html.removeAttribute('data-theme');
      loadSVG('sun-moon');
    } else {
      // Use manual override
      html.setAttribute('data-theme', currentTheme);
      loadSVG(currentTheme === 'dark' ? 'sun' : 'moon');
    }

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const currentDataTheme = html.getAttribute('data-theme');

      if (!currentDataTheme) {
        // Currently auto, switch to light
        html.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
        loadSVG('moon');
      } else if (currentDataTheme === 'light') {
        // Currently light, switch to dark
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
        loadSVG('sun');
      } else {
        // Currently dark, switch to auto
        html.removeAttribute('data-theme');
        localStorage.removeItem('theme');
        loadSVG('sun-moon');
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>